<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>QWES TV.id v12 CORE</title>
    <style>
        :root { --accent: #00f2fe; --red: #ff3b30; --green: #4cd964; }
        body, html { margin:0; padding:0; width:100%; height:100%; font-family: 'Segoe UI', sans-serif; background:#000; color:white; overflow:hidden; }

        /* FULL SCREEN WAKE LAYER */
        #wake-layer { position:fixed; inset:0; z-index:9999999; background:rgba(0,0,0,0.01); display:flex; align-items:center; justify-content:center; }

        /* BOOTING */
        #boot { position:fixed; inset:0; background:#000; z-index:999999; display:none; flex-direction:column; align-items:center; justify-content:center; }
        .spinner { width:60px; height:60px; border:5px solid #222; border-top:5px solid var(--accent); border-radius:50%; animation:spin 1s linear infinite; }
        @keyframes spin { 100% {transform:rotate(360deg);} }

        /* DYNAMIC NOTIF (UPDATE SYSTEM) */
        #update-notif { 
            position:fixed; top:-100px; left:50%; transform:translateX(-50%); 
            width:350px; background:#111; padding:15px; border-radius:20px; 
            border:1px solid var(--green); z-index:1000000; transition:0.5s;
            display:flex; justify-content:space-between; align-items:center;
        }
        #update-notif.show { top:20px; }

        /* UI HOME */
        #home { height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; transition:1s; }
        #big-clock { font-size: 8rem; font-weight: 100; margin-bottom: 30px; }

        .app-grid { display:grid; grid-template-columns:repeat(5, 1fr); gap:20px; }
        .app { cursor:pointer; text-align:center; transition:0.3s; }
        .app:hover { transform:scale(1.1); }
        .icon { width:80px; height:80px; border-radius:20px; background:var(--accent); color:#000; display:flex; align-items:center; justify-content:center; font-size:30px; font-weight:900; margin-bottom:10px; }

        /* NO SIGNAL OVERLAY */
        #no-signal { position:fixed; inset:0; background:url('https://media.giphy.com/media/oEI9uWUicG58Y/giphy.gif') center/cover; z-index:800000; display:none; }

        /* CODE INJECTOR PANEL */
        #injector { position:fixed; inset:0; background:#111; z-index:1000001; display:none; padding:40px; }
        textarea { width:100%; height:70%; background:#000; color:var(--green); font-family:monospace; border:1px solid #333; }
    </style>
</head>
<body onload="checkFirstRun()">

    <div id="wake-layer" onclick="goFull()">
        <p id="wake-txt" style="color:#222;">Touch to Start QWES TV</p>
    </div>

    <div id="boot">
        <h1 style="letter-spacing:10px;">QWES TV</h1>
        <div class="spinner"></div>
        <p>REBOOTING SYSTEM...</p>
    </div>

    <div id="update-notif">
        <span>Sistem Update Tersedia âœ…</span>
        <button onclick="rebootSystem()" style="background:var(--green); border:none; border-radius:5px; padding:5px 15px; cursor:pointer; font-weight:bold;">INSTAL & CENTANG</button>
    </div>

    <div id="no-signal"></div>

    <div id="home">
        <div id="big-clock">00:00</div>
        <div class="app-grid">
            <div class="app" onclick="openW('https://m.youtube.com')"><div class="icon" style="background:red;color:white">YT</div><span>YouTube</span></div>
            <div class="app" onclick="openW('https://m.tiktok.com')"><div class="icon" style="background:black;color:white">TK</div><span>TikTok</span></div>
            <div class="app" onclick="document.getElementById('injector').style.display='block'"><div class="icon" style="background:#444;color:white">UP</div><span>Update Code</span></div>
            <div class="app" onclick="toggleZrak()"><div class="icon" style="background:white;color:black">ðŸ¤–</div><span>ZRAK AI</span></div>
            <div class="app" onclick="openW('https://www.google.com')"><div class="icon" style="background:blue;color:white">G</div><span>Google</span></div>
        </div>
    </div>

    <div id="injector">
        <h2>QWES CODE INJECTOR</h2>
        <p>Tempelkan kode HTML baru di bawah ini untuk update:</p>
        <textarea id="new-code" placeholder="Paste kode HTML di sini..."></textarea>
        <br><br>
        <button onclick="saveUpdate()" style="padding:15px 40px; background:var(--green); border:none; cursor:pointer;">SIMPAN & KIRIM NOTIF</button>
        <button onclick="this.parentElement.style.display='none'" style="padding:15px 40px; background:var(--red); border:none; cursor:pointer;">BATAL</button>
    </div>

    <div id="web-ui" style="position:fixed;inset:0;background:#fff;z-index:900000;display:none;">
        <iframe id="frame" style="width:100%;height:100%;border:none;"></iframe>
        <button onclick="closeW()" style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);padding:15px 40px;background:red;color:white;border:none;border-radius:50px;font-weight:bold;">EXIT</button>
    </div>

    <script>
        function checkFirstRun() {
            setInterval(updateClock, 1000);
            // LISTEN TO CENTER COMMANDS (via LocalStorage Bridge)
            setInterval(() => {
                let cmd = localStorage.getItem('QWES_SIGNAL');
                document.getElementById('no-signal').style.display = (cmd === 'OFF') ? 'block' : 'none';
            }, 500);
        }

        function goFull() {
            let el = document.documentElement;
            if(el.requestFullscreen) el.requestFullscreen();
            document.getElementById('wake-layer').style.display = 'none';
            updateClock();
        }

        function updateClock() {
            let d = new Date();
            document.getElementById('big-clock').innerText = d.getHours().toString().padStart(2,'0') + ":" + d.getMinutes().toString().padStart(2,'0');
        }

        function openW(u) { document.getElementById('frame').src = u; document.getElementById('web-ui').style.display = 'block'; }
        function closeW() { document.getElementById('web-ui').style.display = 'none'; document.getElementById('frame').src = ''; }

        // LOGIC UPDATE (Hapus Code Lama, Ganti Baru)
        function saveUpdate() {
            let code = document.getElementById('new-code').value;
            if(code) {
                localStorage.setItem('NEXT_UPDATE', code);
                document.getElementById('injector').style.display = 'none';
                document.getElementById('update-notif').classList.add('show');
            }
        }

        function rebootSystem() {
            document.getElementById('boot').style.display = 'flex';
            setTimeout(() => {
                let newCode = localStorage.getItem('NEXT_UPDATE');
                document.open();
                document.write(newCode);
                document.close();
            }, 3000);
        }

        function toggleZrak() { alert("ZRAK AI: Mesin v12 Online. Bridge HTML siap menerima kode!"); }
    </script>
</body>
</html>
